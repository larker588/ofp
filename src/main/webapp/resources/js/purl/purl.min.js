!function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function f(a,c){for(var e=decodeURI(a),f=d[c?"strict":"loose"].exec(e),g={attr:{},param:{},seg:{}},h=14;h--;)g.attr[b[h]]=f[h]||"";return g.param["query"]=k(g.attr["query"]),g.param["fragment"]=k(g.attr["fragment"]),g.seg["path"]=g.attr.path.replace(/^\/+|\/+$/g,"").split("/"),g.seg["fragment"]=g.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),g.attr["base"]=g.attr.host?(g.attr.protocol?g.attr.protocol+"://"+g.attr.host:g.attr.host)+(g.attr.port?":"+g.attr.port:""):"",g}function g(b){var c=b.tagName;return"undefined"!=typeof c?a[c.toLowerCase()]:c}function h(a,b){var c,d;if(0===a[b].length)return a[b]={};c={};for(d in a[b])c[d]=a[b][d];return a[b]=c,c}function i(a,b,c,d){var g,f=a.shift();f?(g=b[c]=b[c]||[],"]"==f?o(g)?""!==d&&g.push(d):"object"==typeof g?g[p(g).length]=d:g=b[c]=[b[c],d]:~f.indexOf("]")?(f=f.substr(0,f.length-1),!e.test(f)&&o(g)&&(g=h(b,c)),i(a,g,f,d)):(!e.test(f)&&o(g)&&(g=h(b,c)),i(a,g,f,d))):o(b[c])?b[c].push(d):b[c]="object"==typeof b[c]?d:"undefined"==typeof b[c]?d:[b[c],d]}function j(a,b,c){var d,f,g;if(~b.indexOf("]"))d=b.split("["),i(d,a,"base",c);else{if(!e.test(b)&&o(a.base)){f={};for(g in a.base)f[g]=a.base[g];a.base=f}""!==b&&l(a.base,b,c)}return a}function k(a){return n(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(c){}var d=b.indexOf("="),e=m(b),f=b.substr(0,e||d),g=b.substr(e||d,b.length);return g=g.substr(g.indexOf("=")+1,g.length),""===f&&(f=b,g=""),j(a,f,g)},{base:{}}).base}function l(a,b,c){var d=a[b];"undefined"==typeof d?a[b]=c:o(d)?d.push(c):a[b]=[d,c]}function m(a){var c,d,e,b=a.length;for(e=0;b>e;++e)if(d=a[e],"]"==d&&(c=!1),"["==d&&(c=!0),"="==d&&!c)return e}function n(a,b){for(var c=0,d=a.length>>0,e=arguments[2];d>c;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function o(a){return"[object Array]"===Object.prototype.toString.call(a)}function p(a){var c,b=[];for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function q(a,b){return 1===arguments.length&&a===!0&&(b=!0,a=void 0),b=b||!1,a=a||window.location.toString(),{data:f(a,b),attr:function(a){return a=c[a]||a,"undefined"!=typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!=typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!=typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return"undefined"==typeof a?this.data.seg.path:(a=0>a?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return"undefined"==typeof a?this.data.seg.fragment:(a=0>a?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var a={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],c={anchor:"fragment"},d={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},e=/^[0-9]+$/;return q.jQuery=function(a){null!=a&&(a.fn.url=function(b){var c="";return this.length&&(c=a(this).attr(g(this[0]))||""),q(c,b)},a.url=q)},q.jQuery(window.jQuery),q});