function login(){if(""==$("#accountName").val())return layer.alert("请输入账户邮箱",{icon:5,shift:6,time:0}),$("#accountName").focus(),!1;var a=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return a.test($("#accountName").val())?""==$("#password").val()?(layer.alert("请输入密码",{icon:5,shift:6,time:0}),$("#password").focus(),!1):""==$("#captcha").val()?($("#captcha").focus(),layer.alert("请输入验证码",{icon:5,shift:6,time:0}),!1):($("#rememberMeCheckBox").is(":checked")&&$("#rememberMe").val(!0),$("#loginform").submit(),void 0):(layer.alert("请输入正确的邮箱",{icon:5,shift:6,time:0}),$("#accountName").focus(),!1)}function register(){var b,c,a=$("#registerAccountName").val();return""==a?(layer.alert("请输入邮箱",{icon:5,shift:6,time:0}),$("#registerAccountName").focus(),!1):(b=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,b.test(a)?(c=!0,$.ajax({type:"POST",url:sys.rootPath+"/user/validateAccountName.html",data:{accountName:a},dataType:"json",async:!1,success:function(a){a||(layer.msg("该邮箱已注册,请使用其他邮箱",{icon:5}),$("#registerAccountName").focus(),c=!1)},error:function(){layer.msg("服务器未响应,请稍后再试",{icon:2}),$("#registerAccountName").focus(),c=!1}}),c?""==$("#registerUserName").val()?(layer.alert("请输入真实姓名",{icon:5,shift:6,time:0}),$("#registerUserName").focus(),!1):""==$("#registerPassword").val()?(layer.alert("请输入密码",{icon:5,shift:6,time:0}),$("#registerPassword").focus(),!1):$("#registerPassword").val().length<6?(layer.alert("密码长度不能小于6位字符",{icon:5,shift:6,time:0}),$("#registerPassword").focus(),!1):""==$("#registerRePassword").val()?(layer.alert("请输入确认密码",{icon:5,shift:6,time:0}),$("#registerRePassword").focus(),!1):$("#registerPassword").val()!=$("#registerRePassword").val()?(layer.alert("两次输入密码不一致,请重新输入",{icon:5,shift:6,time:0}),$("#registerPassword").focus(),!1):($("#registerform").submit(),void 0):c):(layer.alert("请输入正确的邮箱",{icon:5,shift:6,time:0}),$("#registerAccountName").focus(),!1))}function resetPassword(){var b,a=$("#recoverAccoutName").val();return""==a?(layer.alert("请输入账户邮箱",{icon:5,shift:6,time:0}),void 0):(b=layer.load(),$.ajax({type:"POST",url:sys.rootPath+"/user/withoutAuth/resetPassWithoutAuthc.html",data:{accountName:a},dataType:"json",success:function(a){layer.close(b),a.success?(layer.msg("您好,"+a.message+",请登录您的邮箱查看",{icon:1}),$("#recoverWidget").click()):layer.msg(a.message,{icon:5})},error:function(){layer.close(b),layer.msg("服务器未响应,请稍后再试",{icon:2})}}),void 0)}$(document).ready(function(){$("body").css("background","#16a08"),$("#kaptchaImage").click(function(){$(this).hide().attr("src","captcha.html?"+(new Date).getTime()).fadeIn()}),$(document).on("click",".toolbar a[data-target]",function(a){a.preventDefault();var b=$(this).data("target");$(".widget-box.visible").removeClass("visible"),$(b).addClass("visible")}),document.onkeypress=function(a){var b=document.all?window.event:a;13==b.keyCode&&login()}});